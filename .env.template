# ===================================================================
# SICAR API - CONFIGURA√á√ÉO CENTRALIZADA
# ===================================================================
#
# Este √© o √öNICO arquivo de configura√ß√£o da aplica√ß√£o.
# Funciona tanto para desenvolvimento local quanto para Docker.
#
# INSTRU√á√ïES:
# 1. Copie este arquivo: cp .env.template .env
# 2. Edite o .env com suas configura√ß√µes
# 3. NUNCA commite o .env (j√° est√° no .gitignore)
#
# ===================================================================

# ===================================================================
# üñ•Ô∏è AMBIENTE (local ou docker)
# ===================================================================
# Define onde a aplica√ß√£o est√° rodando
# - local: conecta em localhost
# - docker: conecta no container 'db'
ENVIRONMENT=local

# ===================================================================
# üì¶ APLICA√á√ÉO
# ===================================================================
APP_NAME=SICAR API
APP_VERSION=1.0.0
DEBUG=False

# ===================================================================
# üóÑÔ∏è BANCO DE DADOS
# ===================================================================
# Credenciais do PostgreSQL (usadas tanto pelo banco quanto pela API)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=sicar_db
POSTGRES_PORT=5432

# Host do banco:
# - local: localhost
# - docker: db (nome do container)
POSTGRES_HOST=localhost

# Pool de conex√µes
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ===================================================================
# üì• SICAR - Configura√ß√µes de Download
# ===================================================================
# Pasta para downloads:
# - local: ./downloads
# - docker: /app/downloads
SICAR_DOWNLOAD_FOLDER=./downloads

# Driver OCR: tesseract ou paddle
SICAR_DRIVER=tesseract
SICAR_MAX_RETRIES=3
SICAR_RETRY_DELAY=5

# ===================================================================
# ‚è∞ AGENDAMENTO
# ===================================================================
SCHEDULE_ENABLED=True
SCHEDULE_HOUR=2
SCHEDULE_MINUTE=0

# Estados para download autom√°tico
# Use "ALL" para todos ou liste: SP,RJ,MG
AUTO_DOWNLOAD_STATES=SP

# Pol√≠gonos para download autom√°tico
# Op√ß√µes: AREA_PROPERTY, APPS, NATIVE_VEGETATION, CONSOLIDATED_AREA,
#         AREA_FALL, HYDROGRAPHY, RESTRICTED_USE, ADMINISTRATIVE_SERVICE, LEGAL_RESERVE
AUTO_DOWNLOAD_POLYGONS=APPS,LEGAL_RESERVE

# ===================================================================
# üìù LOGGING
# ===================================================================
LOG_LEVEL=INFO
# Pasta para logs:
# - local: logs/sicar_api.log
# - docker: /app/logs/sicar_api.log
LOG_FILE=logs/sicar_api.log

# ===================================================================
# üåê API
# ===================================================================
API_HOST=0.0.0.0
API_PORT=8000

# ===================================================================
# üé® FRONTEND
# ===================================================================
FRONTEND_PORT=3000
API_RELOAD=False

# ===================================================================
# üîí SEGURAN√áA
# ===================================================================

# CORS - Origens permitidas
# Desenvolvimento: *
# Produ√ß√£o: https://app.seudominio.com,https://admin.seudominio.com
CORS_ORIGINS=*

# API Key - OBRIGAT√ìRIO PARA PRODU√á√ÉO!
# Gerar com: python scripts/generate_api_key.py
# Deixe vazio para desabilitar autentica√ß√£o (n√£o recomendado)
API_KEY=

# IP Whitelist - Lista de IPs permitidos
# Vazio = aceita todos os IPs
# Exemplo: 192.168.1.100,10.0.0.50
ALLOWED_IPS=

# ===================================================================
# üö¶ RATE LIMITING
# ===================================================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE_DOWNLOADS=10
RATE_LIMIT_PER_MINUTE_SEARCH=20
RATE_LIMIT_PER_MINUTE_READ=100

# ===================================================================
# üìä LIMITES E VALIDA√á√ïES
# ===================================================================
# Espa√ßo m√≠nimo em disco (GB) antes de bloquear downloads
MIN_DISK_SPACE_GB=10

# M√°ximo de downloads simult√¢neos
MAX_CONCURRENT_DOWNLOADS=5

# ===================================================================
# üîß PGADMIN (Opcional)
# ===================================================================
PGADMIN_DEFAULT_EMAIL=admin@sicar.com
PGADMIN_DEFAULT_PASSWORD=admin
